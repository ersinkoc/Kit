<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parsing Module - @oxog/kit</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <a href="../" class="nav-logo">@oxog/kit</a>
      <ul class="nav-menu">
        <li><a href="../#getting-started">Getting Started</a></li>
        <li><a href="../#modules">Modules</a></li>
        <li><a href="./">API Reference</a></li>
        <li><a href="../guides/">Guides</a></li>
        <li><a href="https://github.com/oxog/kit" target="_blank">GitHub</a></li>
      </ul>
    </div>
  </nav>

  <main class="container api-content">
    <div class="api-layout">
      <aside class="api-sidebar">
        <ul>
          <li><a href="#json">JSON</a></li>
          <li><a href="#url">URL</a></li>
          <li><a href="#querystring">Query String</a></li>
          <li><a href="#mime">MIME Types</a></li>
        </ul>
      </aside>

      <div class="api-main">
        <div class="api-header">
          <h1>@oxog/kit/parsing</h1>
          <p>JSON, URL, query string, and MIME type parsing utilities</p>
        </div>

        <section class="api-section" id="json">
          <h2>JSON</h2>
          <p>Safe JSON parsing and stringification</p>

          <div class="api-function">
            <h4>json.parse&lt;T&gt;(str: string, defaultValue?: T): T | null</h4>
            <p>Safely parse JSON string</p>
            <pre><code>import { json } from '@oxog/kit/parsing';

// Safe parsing (no exceptions)
const data = json.parse('{"name": "John"}');
// { name: 'John' }

const invalid = json.parse('not json');
// null

// With default value
const data = json.parse('invalid', { name: 'Unknown' });
// { name: 'Unknown' }</code></pre>
          </div>

          <div class="api-function">
            <h4>json.stringify(value: any, options?: StringifyOptions): string</h4>
            <p>Stringify with options</p>
            <pre><code>// Pretty print
const pretty = json.stringify(data, { pretty: true });

// With indent
const indented = json.stringify(data, { indent: 4 });

// Safe (handles circular references)
const safe = json.stringify(circularObj, { safe: true });</code></pre>
          </div>

          <div class="api-function">
            <h4>json.isValid(str: string): boolean</h4>
            <p>Check if string is valid JSON</p>
          </div>

          <div class="api-function">
            <h4>json.clone&lt;T&gt;(obj: T): T</h4>
            <p>Deep clone via JSON (fast for plain objects)</p>
          </div>
        </section>

        <section class="api-section" id="url">
          <h2>URL</h2>
          <p>URL parsing and building utilities</p>

          <div class="api-function">
            <h4>url.parse(urlString: string): ParsedURL</h4>
            <p>Parse URL into components</p>
            <pre><code>import { url } from '@oxog/kit/parsing';

const parsed = url.parse('https://user:pass@example.com:8080/path?q=1#hash');
// {
//   protocol: 'https:',
//   username: 'user',
//   password: 'pass',
//   host: 'example.com:8080',
//   hostname: 'example.com',
//   port: '8080',
//   pathname: '/path',
//   search: '?q=1',
//   searchParams: URLSearchParams,
//   hash: '#hash',
//   origin: 'https://example.com:8080',
//   href: 'https://user:pass@example.com:8080/path?q=1#hash'
// }</code></pre>
          </div>

          <div class="api-function">
            <h4>url.build(parts: URLParts): string</h4>
            <p>Build URL from parts</p>
            <pre><code>const myUrl = url.build({
  protocol: 'https',
  hostname: 'api.example.com',
  pathname: '/users',
  searchParams: { page: '1', limit: '10' },
});
// 'https://api.example.com/users?page=1&limit=10'</code></pre>
          </div>

          <div class="api-function">
            <h4>url.join(base: string, ...paths: string[]): string</h4>
            <p>Join URL paths</p>
            <pre><code>url.join('https://api.example.com', 'users', '123');
// 'https://api.example.com/users/123'

url.join('/api', '/users/', '/123');
// '/api/users/123'</code></pre>
          </div>

          <div class="api-function">
            <h4>url.isAbsolute(urlString: string): boolean</h4>
            <p>Check if URL is absolute</p>
          </div>

          <div class="api-function">
            <h4>url.normalize(urlString: string): string</h4>
            <p>Normalize URL (remove double slashes, trailing slash, etc.)</p>
          </div>

          <div class="api-function">
            <h4>url.getParam(urlString: string, param: string): string | null</h4>
            <p>Get query parameter from URL</p>
          </div>

          <div class="api-function">
            <h4>url.setParam(urlString: string, param: string, value: string): string</h4>
            <p>Set query parameter in URL</p>
          </div>
        </section>

        <section class="api-section" id="querystring">
          <h2>Query String</h2>
          <p>Query string parsing and stringification</p>

          <div class="api-function">
            <h4>querystring.parse(str: string): Record&lt;string, string | string[]&gt;</h4>
            <p>Parse query string to object</p>
            <pre><code>import { querystring } from '@oxog/kit/parsing';

querystring.parse('name=John&age=30&tags=a&tags=b');
// {
//   name: 'John',
//   age: '30',
//   tags: ['a', 'b']
// }

// With leading ?
querystring.parse('?foo=bar');
// { foo: 'bar' }</code></pre>
          </div>

          <div class="api-function">
            <h4>querystring.stringify(obj: Record&lt;string, any&gt;): string</h4>
            <p>Stringify object to query string</p>
            <pre><code>querystring.stringify({ name: 'John', age: 30 });
// 'name=John&age=30'

// Arrays
querystring.stringify({ tags: ['a', 'b'] });
// 'tags=a&tags=b'

// With options
querystring.stringify({ name: 'John' }, { prefix: '?' });
// '?name=John'</code></pre>
          </div>

          <div class="api-function">
            <h4>querystring.encode(str: string): string</h4>
            <p>URL encode string</p>
          </div>

          <div class="api-function">
            <h4>querystring.decode(str: string): string</h4>
            <p>URL decode string</p>
          </div>
        </section>

        <section class="api-section" id="mime">
          <h2>MIME Types</h2>
          <p>MIME type detection and handling</p>

          <div class="api-function">
            <h4>mime.getType(pathOrExt: string): string | null</h4>
            <p>Get MIME type for file path or extension</p>
            <pre><code>import { mime } from '@oxog/kit/parsing';

mime.getType('file.json');      // 'application/json'
mime.getType('image.png');      // 'image/png'
mime.getType('.html');          // 'text/html'
mime.getType('/path/to/file.css'); // 'text/css'
mime.getType('unknown.xyz');    // null</code></pre>
          </div>

          <div class="api-function">
            <h4>mime.getExtension(mimeType: string): string | null</h4>
            <p>Get file extension for MIME type</p>
            <pre><code>mime.getExtension('application/json'); // 'json'
mime.getExtension('image/png');        // 'png'
mime.getExtension('text/html');        // 'html'</code></pre>
          </div>

          <div class="api-function">
            <h4>mime.isText(mimeType: string): boolean</h4>
            <p>Check if MIME type is text-based</p>
            <pre><code>mime.isText('text/html');         // true
mime.isText('application/json');  // true
mime.isText('image/png');         // false</code></pre>
          </div>

          <div class="api-function">
            <h4>mime.isImage(mimeType: string): boolean</h4>
            <p>Check if MIME type is an image</p>
          </div>

          <div class="api-function">
            <h4>mime.isVideo(mimeType: string): boolean</h4>
            <p>Check if MIME type is video</p>
          </div>

          <div class="api-function">
            <h4>mime.isAudio(mimeType: string): boolean</h4>
            <p>Check if MIME type is audio</p>
          </div>

          <div class="api-function">
            <h4>mime.charset(mimeType: string): string | null</h4>
            <p>Get default charset for MIME type</p>
            <pre><code>mime.charset('text/html');         // 'UTF-8'
mime.charset('application/json');  // 'UTF-8'
mime.charset('image/png');         // null</code></pre>
          </div>
        </section>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>@oxog/kit - MIT License</p>
    </div>
  </footer>

  <script src="../js/main.js"></script>
</body>
</html>
